local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PremiumDupeGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local function createUI(name, size, position, visible)
    local frame = Instance.new("Frame")
    frame.Name = name
    frame.Size = size
    frame.Position = position
    frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    frame.BorderSizePixel = 0
    frame.Visible = visible
    Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 20)
    Instance.new("UIGradient", frame).Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 60)), ColorSequenceKeypoint.new(1, Color3.fromRGB(25, 25, 35))}
    
    local titleBar = Instance.new("Frame")
    titleBar.Name = "TitleBar"
    titleBar.Size = UDim2.new(1, 0, 0, 30)
    titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 10)
    titleBar.Parent = frame
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -40, 1, 0)
    title.Position = UDim2.new(0, 10, 0, 0)
    title.BackgroundTransparency = 1
    title.Text = name == "MainFrame" and "BBH SCRIPTS (Premium Fanmade)" or "Dupe Slots Script v1.3 (Premium)"
    title.TextColor3 = Color3.fromRGB(220, 220, 255)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 14
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = titleBar
    
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -30, 0, 0)
    closeButton.BackgroundTransparency = 1
    closeButton.Text = "Ã—"
    closeButton.TextColor3 = Color3.new(1, 1, 1)
    closeButton.Font = Enum.Font.GothamBold
    closeButton.TextSize = 20
    closeButton.Parent = titleBar
    
    closeButton.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)
    
    frame.Parent = screenGui
    return frame
end

local function createButton(parent, text, position, size, color)
    local button = Instance.new("TextButton")
    button.Size = size
    button.Position = position
    button.BackgroundColor3 = color
    button.Text = text
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 18
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 10)
    button.Parent = parent
    return button
end

local mainFrame = createUI("MainFrame", UDim2.new(0, 320, 0, 250), UDim2.new(0.5, -160, 0.5, -125), true)
local secondFrame = createUI("SecondFrame", UDim2.new(0, 320, 0, 280), UDim2.new(0.5, -160, 0.5, -140), false)

local dupeButton = createButton(mainFrame, "Dupe Scripts", UDim2.new(0.1, 0, 0.4, 0), UDim2.new(0.8, 0, 0.2, 0), Color3.fromRGB(60, 120, 255))
local bbhButton = createButton(mainFrame, "BBH Hub", UDim2.new(0.1, 0, 0.7, 0), UDim2.new(0.8, 0, 0.2, 0), Color3.fromRGB(60, 200, 100))
local goButton = createButton(secondFrame, "Go!", UDim2.new(0.3, 0, 0.8, 0), UDim2.new(0.4, 0, 0.12, 0), Color3.fromRGB(60, 200, 100))

local function addInputField(parent, yPos, labelText)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(0.9, 0, 0, 60)
    container.Position = UDim2.new(0.05, 0, yPos, 0)
    container.BackgroundTransparency = 1
    container.Parent = parent

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0, 20)
    label.BackgroundTransparency = 1
    label.Text = labelText
    label.TextColor3 = Color3.fromRGB(220, 220, 255)
    label.Font = Enum.Font.GothamSemibold
    label.TextSize = 14
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = container

    local textBox = Instance.new("TextBox")
    textBox.Size = UDim2.new(1, 0, 0, 35)
    textBox.Position = UDim2.new(0, 0, 0, 25)
    textBox.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    textBox.TextColor3 = Color3.new(1, 1, 1)
    textBox.Font = Enum.Font.Gotham
    textBox.TextSize = 14
    textBox.PlaceholderText = "Enter value..."
    Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 8)
    textBox.Parent = container

    return textBox
end

local slotInput = addInputField(secondFrame, 0.2, "Your Slot Here")
local amountInput = addInputField(secondFrame, 0.45, "Dupe Amount Here")

local function onButtonClick(button)
    for i = 1, 10 do
        local particle = Instance.new("Frame")
        particle.Size = UDim2.new(0, 10, 0, 10)
        particle.BackgroundColor3 = button.BackgroundColor3
        particle.BorderSizePixel = 0
        Instance.new("UICorner", particle).CornerRadius = UDim.new(0, 5)
        particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
        particle.Parent = button

        local randomAngle = math.rad(math.random(0, 360))
        local targetPosition = UDim2.new(
            particle.Position.X.Scale + math.cos(randomAngle) * 0.5,
            particle.Position.X.Offset,
            particle.Position.Y.Scale + math.sin(randomAngle) * 0.5,
            particle.Position.Y.Offset
        )

        TweenService:Create(particle, TweenInfo.new(0.5), {
            Position = targetPosition,
            Size = UDim2.new(0, 0, 0, 0),
            BackgroundTransparency = 1
        }):Play()
    end
end

dupeButton.MouseButton1Click:Connect(function()
    onButtonClick(dupeButton)
    mainFrame.Visible = false
    secondFrame.Visible = true
end)

bbhButton.MouseButton1Click:Connect(function()
    onButtonClick(bbhButton)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/catblox1346/BBHscript/main/owo?token=$(date%20+%s)"))()
    screenGui:Destroy()
end)

goButton.MouseButton1Click:Connect(function()
    onButtonClick(goButton)
    _G.Slot = tonumber(slotInput.Text) or 0
    _G.DupeAmount = tonumber(amountInput.Text) or 0
    loadstring(game:HttpGet(("https://raw.githubusercontent.com/catblox1346/Extra-beta-scripts/main/Auto%20Dupe"),true))()
end)

local function makeDraggable(frame)
    local dragToggle, dragInput, dragStart, startPos

    local function updateInput(input)
        local delta = input.Position - dragStart
        local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        frame.Position = position
    end

    frame.TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragToggle = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragToggle = false
                end
            end)
        end
    end)

    frame.TitleBar.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragToggle then
            updateInput(input)
        end
    end)
end

makeDraggable(mainFrame)
makeDraggable(secondFrame)

UserInputService.TouchStarted:Connect(function(touch, gameProcessed)
    if not gameProcessed then
        local touchedGui = false
        for _, frame in ipairs({mainFrame, secondFrame}) do
            if frame.Visible and frame.TitleBar:IsDescendantOf(game) then
                local touchPosition = Vector2.new(touch.Position.X, touch.Position.Y)
                if frame.TitleBar.AbsolutePosition.X <= touchPosition.X and 
                   touchPosition.X <= frame.TitleBar.AbsolutePosition.X + frame.TitleBar.AbsoluteSize.X and
                   frame.TitleBar.AbsolutePosition.Y <= touchPosition.Y and
                   touchPosition.Y <= frame.TitleBar.AbsolutePosition.Y + frame.TitleBar.AbsoluteSize.Y then
                    touchedGui = true
                    break
                end
            end
        end
        if touchedGui then
            touch.UserInputState = Enum.UserInputState.End
        end
    end
end)
